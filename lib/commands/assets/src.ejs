(function() {
    with( require('apps/framework/app_scope') ) {

        var source = <%- source %>;

        ZendeskApps["<%= name %>"] = ZendeskApps.defineApp(source)
                .reopenClass({ location: "<%= location %>" })
                .reopen({
                    assetUrlPrefix: <%- JSON.stringify(asset_url_prefix) %>,
                    appClassName: <%- JSON.stringify(app_class_name) %>,
                    author: {
                        name: "<%= author.name %>",
                        email: "<%= author.email %>"
                    },
                    translations: <%- JSON.stringify(translations) %>,
                    templates: <%- JSON.stringify(templates) %>,
                    frameworkVersion: "<%= framework_version%>"
                });

    }

    ZendeskApps["<%= name %>"].install({"id": <%= app_id %>, "app_id": <%= app_id %>, "settings": <%- JSON.stringify(settings)%> });

}());
